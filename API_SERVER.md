# API Server

(Work in progress)

Note: OpenAI API subscription is required for this API server to work as a chat server.

=> [Code](./Python)

## OpenAI API Key

I use .zshrc file on my MacOS to set my OpenAI API key value to OPENAI_API_KEY.

.zshrc
```
export OPENAI_API_KEY="<your OpenAI API key>"
```

## Starting the API server

MacOS
```
$ python3 app.py
```

## RAG

This API server runs with RAG to answer questions from the showroom visitors on the exhibition content.

The RAG retrieves info from two sources (General info and Scenarios) for each query.

### Maintaining the RAG

#### General info on the locations in the scenes

Run [this Jupyter Notebook](./Python/embeddings/embeddings.ipynb) to update the embeddings on ChromaDB.

For now, I use the following documents generated by ChatGPT as inputs to RAG.
- [tokohama](./Python/scenarios/doc/yokohama.txt)
- [takanawa_gateway_station](./Python/scenarios/doc/takanawa_gateway_station.txt)
- [hansaplatz](./Python/scenarios/doc/hansaplatz.txt)

#### Scenarios for each image

Run [this Jupyter Notebook](./Python/scenarios/Scenarios.ipynb)
